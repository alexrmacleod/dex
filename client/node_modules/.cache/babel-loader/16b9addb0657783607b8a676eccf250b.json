{"ast":null,"code":"var _jsxFileName = \"/Users/alex/Documents/dex/client/src/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Header from './Header.js';\nimport Footer from './Footer.js';\n\nfunction App({\n  web3,\n  accounts,\n  contracts\n}) {\n  const [tokens, setTokens] = useState([]);\n  const [user, setUser] = useState({\n    accounts: [],\n    selectedTokens: undefined\n  });\n\n  const selectToken = token => {\n    setUser({ ...user,\n      selectedToken: token\n    });\n  };\n\n  useEffect(() => {\n    const init = async () => {\n      const rawTokens = await contracts.dex.methods.getTokens().call();\n      const tokens = rawTokens.map(token => ({ ...token,\n        ticker: web3.utils.hexToUtf8(token.ticker)\n      }));\n      setTokens(tokens);\n      setUser({\n        accounts,\n        selectedToken: tokens[0]\n      });\n    };\n\n    init();\n  }, []);\n\n  if (typeof user.selectedToken === 'undefined') {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, \"Loading...\");\n  }\n\n  return React.createElement(\"div\", {\n    id: \"app\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(Header, {\n    contracts: contracts,\n    tokens: tokens,\n    user: user,\n    selectToken: selectToken,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"Main part\"), React.createElement(Footer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/alex/Documents/dex/client/src/App.js"],"names":["React","useState","useEffect","Header","Footer","App","web3","accounts","contracts","tokens","setTokens","user","setUser","selectedTokens","undefined","selectToken","token","selectedToken","init","rawTokens","dex","methods","getTokens","call","map","ticker","utils","hexToUtf8"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,MAAP,MAAmB,aAAnB;;AAEA,SAASC,GAAT,CAAa;AAACC,EAAAA,IAAD;AAAOC,EAAAA,QAAP;AAAiBC,EAAAA;AAAjB,CAAb,EAA0C;AACxC,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBT,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACU,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAC;AAC/BM,IAAAA,QAAQ,EAAE,EADqB;AAE/BM,IAAAA,cAAc,EAAEC;AAFe,GAAD,CAAhC;;AAKA,QAAMC,WAAW,GAAGC,KAAK,IAAI;AAC3BJ,IAAAA,OAAO,CAAC,EAAC,GAAGD,IAAJ;AAAUM,MAAAA,aAAa,EAAED;AAAzB,KAAD,CAAP;AACD,GAFD;;AAIAd,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMgB,IAAI,GAAG,YAAY;AACvB,YAAMC,SAAS,GAAG,MAAMX,SAAS,CAACY,GAAV,CAAcC,OAAd,CAAsBC,SAAtB,GAAkCC,IAAlC,EAAxB;AACA,YAAMd,MAAM,GAAGU,SAAS,CAACK,GAAV,CAAcR,KAAK,KAAK,EACrC,GAAGA,KADkC;AAErCS,QAAAA,MAAM,EAAEnB,IAAI,CAACoB,KAAL,CAAWC,SAAX,CAAqBX,KAAK,CAACS,MAA3B;AAF6B,OAAL,CAAnB,CAAf;AAIAf,MAAAA,SAAS,CAACD,MAAD,CAAT;AACAG,MAAAA,OAAO,CAAC;AAACL,QAAAA,QAAD;AAAWU,QAAAA,aAAa,EAAER,MAAM,CAAC,CAAD;AAAhC,OAAD,CAAP;AACD,KARD;;AASAS,IAAAA,IAAI;AACL,GAXQ,EAWN,EAXM,CAAT;;AAaA,MAAG,OAAOP,IAAI,CAACM,aAAZ,KAA8B,WAAjC,EAA8C;AAC5C,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAP;AACD;;AACD,SACE;AAAK,IAAA,EAAE,EAAC,KAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AACC,IAAA,SAAS,EAAET,SADZ;AAEC,IAAA,MAAM,EAAEC,MAFT;AAGC,IAAA,IAAI,EAAEE,IAHP;AAIC,IAAA,WAAW,EAAEI,WAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADD,EASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBATF,EAYE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZF,CADF;AAgBD;;AAED,eAAeV,GAAf","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport Header from './Header.js'\nimport Footer from './Footer.js';\n\nfunction App({web3, accounts, contracts}) {\n  const [tokens, setTokens] = useState([]);\n  const [user, setUser] = useState({\n    accounts: [],\n    selectedTokens: undefined\n  });\n\n  const selectToken = token => {\n    setUser({...user, selectedToken: token});\n  }\n\n  useEffect(() => {\n    const init = async () => {\n      const rawTokens = await contracts.dex.methods.getTokens().call(); \n      const tokens = rawTokens.map(token => ({\n        ...token,\n        ticker: web3.utils.hexToUtf8(token.ticker)\n      }));\n      setTokens(tokens);\n      setUser({accounts, selectedToken: tokens[0]});\n    }\n    init();\n  }, []);\n\n  if(typeof user.selectedToken === 'undefined') {\n    return <div>Loading...</div>\n  }\n  return (\n    <div id=\"app\">\n     <div>\n       <Header\n        contracts={contracts}\n        tokens={tokens}\n        user={user}\n        selectToken={selectToken}\n       />\n      </div>\n      <div>\n        Main part\n      </div>\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}